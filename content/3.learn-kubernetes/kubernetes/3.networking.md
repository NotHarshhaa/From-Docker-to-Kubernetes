---
title: Networking
description: Understanding Kubernetes networking concepts and implementation
icon: 'lucide:network'
---

## Kubernetes Networking

Kubernetes networking addresses four primary concerns: container-to-container, pod-to-pod, pod-to-service, and external-to-service communication.

## Pod Networking

::steps
### Pod Network Model
- Each pod gets unique IP
- Containers share pod's network
- Direct communication between pods

### Container Network Interface (CNI)
- Network plugin architecture
- Popular plugins: Calico, Flannel
- Implements pod networking
::

## Services

::steps
### ClusterIP
```yaml
apiVersion: v1
kind: Service
metadata:
  name: my-service
spec:
  selector:
    app: my-app
  ports:
    - protocol: TCP
      port: 80
      targetPort: 9376
  type: ClusterIP
```

### NodePort
```yaml
apiVersion: v1
kind: Service
metadata:
  name: my-service
spec:
  type: NodePort
  selector:
    app: my-app
  ports:
    - port: 80
      targetPort: 9376
      nodePort: 30007
```

### LoadBalancer
```yaml
apiVersion: v1
kind: Service
metadata:
  name: my-service
spec:
  type: LoadBalancer
  selector:
    app: my-app
  ports:
    - protocol: TCP
      port: 80
      targetPort: 9376
```
::

## Network Policies

```yaml
apiVersion: networking.k8s.io/v1
kind: NetworkPolicy
metadata:
  name: test-network-policy
spec:
  podSelector:
    matchLabels:
      role: db
  policyTypes:
  - Ingress
  - Egress
  ingress:
  - from:
    - podSelector:
        matchLabels:
          role: frontend
    ports:
    - protocol: TCP
      port: 6379
```

## Ingress Controllers

::steps
### Basic Ingress
```yaml
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: minimal-ingress
spec:
  rules:
  - http:
      paths:
      - path: /testpath
        pathType: Prefix
        backend:
          service:
            name: test
            port:
              number: 80
```

### TLS Configuration
```yaml
spec:
  tls:
  - hosts:
    - example.com
    secretName: tls-secret
```

### Path-based Routing
```yaml
spec:
  rules:
  - host: example.com
    http:
      paths:
      - path: /api
        backend:
          service:
            name: api-service
            port:
              number: 80
```
::

## DNS Service

::steps
### CoreDNS
- Default DNS service
- Service discovery
- Pod DNS resolution

### DNS Policies
- ClusterFirst
- Default
- None
- ClusterFirstWithHostNet
::

## Best Practices

::alert{type="info"}
1. Use appropriate service types
2. Implement network policies
3. Configure health checks
4. Use meaningful DNS names
5. Monitor network performance
:: 